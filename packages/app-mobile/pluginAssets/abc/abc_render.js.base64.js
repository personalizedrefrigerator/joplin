module.exports = `KCgpID0+IHsKCWxldCBpbml0RG9uZV8gPSBmYWxzZTsKCgljb25zdCBnZXRMaWJyYXJ5ID0gKCkgPT4gewoJCXJldHVybiB3aW5kb3c/LkFCQ0pTOwoJfTsKCgljb25zdCBnZXRPcHRpb25zID0gKGVsZW1lbnQpID0+IHsKCQljb25zdCBvcHRpb25zID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWJjLW9wdGlvbnMnKTsKCgkJaWYgKG9wdGlvbnMpIHsKCQkJdHJ5IHsKCQkJCXJldHVybiBKU09OLnBhcnNlKG9wdGlvbnMpOwoJCQl9IGNhdGNoIChlcnJvcikgewoJCQkJY29uc29sZS5lcnJvcignQ291bGQgbm90IHBhcnNlIEFCQyBvcHRpb25zOicsIG9wdGlvbnMsIGVycm9yKTsKCQkJfQoJCX0KCgkJcmV0dXJuIHt9OwoJfTsKCgljb25zdCBpbml0aWFsaXplID0gKCkgPT4gewoJCWlmIChpbml0RG9uZV8pIHJldHVybiB0cnVlOwoKCQljb25zdCBsaWIgPSBnZXRMaWJyYXJ5KCk7CgkJaWYgKCFsaWIpIHJldHVybiBmYWxzZTsKCgkJaW5pdERvbmVfID0gdHJ1ZTsKCgkJY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuam9wbGluLWVkaXRhYmxlID4gLmpvcGxpbi1hYmMtbm90YXRpb24tcmVuZGVyZWQnKTsKCgkJZm9yIChjb25zdCByZW5kZXJDb250YWluZXIgb2YgZWxlbWVudHMpIHsKCQkJY29uc3QgYmxvY2sgPSByZW5kZXJDb250YWluZXIucGFyZW50RWxlbWVudDsKCQkJY29uc3Qgc291cmNlRWxlbWVudCA9IGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5qb3BsaW4tc291cmNlJyk7CgkJCWlmICghc291cmNlRWxlbWVudCkgY29udGludWU7CgoJCQljb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhzb3VyY2VFbGVtZW50KTsKCQkJbGliLnJlbmRlckFiYyhyZW5kZXJDb250YWluZXIsIHNvdXJjZUVsZW1lbnQudGV4dENvbnRlbnQsIHsgLi4ub3B0aW9ucyB9KTsKCQl9CgoJCXJldHVybiB0cnVlOwoJfTsKCglkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdqb3BsaW4tbm90ZURpZFVwZGF0ZScsICgpID0+IHsKCQlpbml0RG9uZV8gPSBmYWxzZTsKCQlpbml0aWFsaXplKCk7Cgl9KTsKCgljb25zdCBpbml0SUlEXyA9IHNldEludGVydmFsKCgpID0+IHsKCQlpZiAoaW5pdGlhbGl6ZSgpKSBjbGVhckludGVydmFsKGluaXRJSURfKTsKCX0sIDEwMCk7CgoJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKCQlpZiAoaW5pdGlhbGl6ZSgpKSBjbGVhckludGVydmFsKGluaXRJSURfKTsKCX0pOwp9KSgpOwoK`;