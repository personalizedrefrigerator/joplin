module.exports = `KCgpID0+IHsKCWxldCBpbml0RG9uZV8gPSBmYWxzZTsKCgljb25zdCBnZXRMaWJyYXJ5ID0gKCkgPT4gewoJCXJldHVybiB3aW5kb3c/LkFCQ0pTOwoJfTsKCgljb25zdCBnZXRPcHRpb25zID0gKGVsZW1lbnQpID0+IHsKCQljb25zdCBvcHRpb25zID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWJjLW9wdGlvbnMnKTsKCgkJaWYgKG9wdGlvbnMpIHsKCQkJdHJ5IHsKCQkJCXJldHVybiBKU09OLnBhcnNlKG9wdGlvbnMpOwoJCQl9IGNhdGNoIChlcnJvcikgewoJCQkJY29uc29sZS5lcnJvcignQ291bGQgbm90IHBhcnNlIEFCQyBvcHRpb25zOicsIG9wdGlvbnMsIGVycm9yKTsKCQkJfQoJCX0KCgkJcmV0dXJuIHt9OwoJfTsKCgljb25zdCBpbml0aWFsaXplID0gKCkgPT4gewoJCWlmIChpbml0RG9uZV8pIHJldHVybiB0cnVlOwoKCQljb25zdCBsaWIgPSBnZXRMaWJyYXJ5KCk7CgkJaWYgKCFsaWIpIHJldHVybiBmYWxzZTsKCgkJaW5pdERvbmVfID0gdHJ1ZTsKCgkJY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqb3BsaW4tYWJjLW5vdGF0aW9uJyk7CgoJCWZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykgewoJCQljb25zdCBzb3VyY2VFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuam9wbGluLXNvdXJjZScpOwoJCQljb25zdCByZW5kZXJlZEVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qb3BsaW4tcmVuZGVyZWQnKTsKCQkJY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMoc291cmNlRWxlbWVudCk7CgkJCWxpYi5yZW5kZXJBYmMocmVuZGVyZWRFbGVtZW50LCBzb3VyY2VFbGVtZW50LnRleHRDb250ZW50LCB7IC4uLm9wdGlvbnMgfSk7CgkJfQoKCQlyZXR1cm4gdHJ1ZTsKCX07CgoJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignam9wbGluLW5vdGVEaWRVcGRhdGUnLCAoKSA9PiB7CgkJaW5pdERvbmVfID0gZmFsc2U7CgkJaW5pdGlhbGl6ZSgpOwoJfSk7CgoJY29uc3QgaW5pdElJRF8gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CgkJaWYgKGluaXRpYWxpemUoKSkgY2xlYXJJbnRlcnZhbChpbml0SUlEXyk7Cgl9LCAxMDApOwoKCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CgkJaWYgKGluaXRpYWxpemUoKSkgY2xlYXJJbnRlcnZhbChpbml0SUlEXyk7Cgl9KTsKfSkoKTsKCg==`;